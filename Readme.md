# Управление пользователями с помощью REST API

## Описание проекта

Этот проект предоставляет API для управления пользователями и их сохранения в файле. Он включает хранение данных пользователей (имя и ID), учёт кликов по страницам, и логгирование действий. Данные пользователей и счётчики кликов сохраняются в формате JSON, что обеспечивает постоянное хранение даже после перезапуска сервера.

Проект включает два основных компонента:

1. **REST API** для работы с пользователями.
2. Логика счётчика кликов по страницам `/` и `/about`.

---

## Структура проекта

server.js: Основной сервер с маршрутами.
storage.js: Управление файлами.
users.json: Хранение данных.
package.json: Подключение необходимых зависимостей, включая uuid.

## Установка и запуск

### Установка

1. Склонируйте репозиторий:

   ```bash
   git clone https://github.com/your-username/your-repository.git
   cd your-repository
   ```

2. Установите зависимости:
   ```bash
   npm install
   ```

### Запуск сервера

1. Запустите сервер с помощью команды:

   ```bash
   node server.js
   ```

2. Сервер будет доступен по адресу:
   ```
   http://localhost:3000
   ```

---

## Эндпоинты API

### 1. Получить список всех пользователей

**GET /users**

- Описание: Возвращает массив всех пользователей из базы данных.
- Пример ответа:
  ```json
  [
  	{
  		"id": "1a2b3c",
  		"username": "john_doe"
  	},
  	{
  		"id": "4d5e6f",
  		"username": "jane_smith"
  	}
  ]
  ```

---

### 2. Добавить нового пользователя

**POST /users**

- Описание: Добавляет нового пользователя в базу данных.
- Тело запроса (JSON):
  ```json
  {
  	"username": "имя_пользователя"
  }
  ```
- Пример успешного ответа:
  ```json
  {
  	"id": "1a2b3c",
  	"username": "john_doe"
  }
  ```

---

### 3. Обновить данные пользователя

**PUT /users/:id**

- Описание: Обновляет информацию о пользователе по его `id`.
- Параметры:
  - `:id` - ID пользователя.
- Тело запроса (JSON):
  ```json
  {
  	"username": "новое_имя_пользователя"
  }
  ```
- Пример успешного ответа:
  ```json
  {
  	"id": "1a2b3c",
  	"username": "new_name"
  }
  ```

---

### 4. Удалить пользователя

**DELETE /users/:id**

- Описание: Удаляет пользователя из базы данных по его `id`.
- Параметры:
  - `:id` - ID пользователя.
- Пример успешного ответа:
  ```json
  {
  	"message": "Пользователь удалён."
  }
  ```

---

## Пример использования API через Postman

### 1. Добавление пользователя

1. Откройте Postman.
2. Создайте новый запрос с методом **POST**.
3. Укажите URL: `http://localhost:3000/users`.
4. Перейдите во вкладку `Body` → выберите `raw` → формат `JSON`.
5. Вставьте JSON:
   ```json
   {
   	"username": "john_doe"
   }
   ```
6. Нажмите **Send**. Вы получите ответ с созданным пользователем.

### 2. Получение списка пользователей

1. Создайте запрос с методом **GET**.
2. Укажите URL: `http://localhost:3000/users`.
3. Нажмите **Send**. Вы получите массив пользователей.

### 3. Обновление пользователя

1. Создайте запрос с методом **PUT**.
2. Укажите URL: `http://localhost:3000/users/:id`, заменив `:id` на ID пользователя.
3. Перейдите в `Body` → `raw` → формат `JSON`.
4. Вставьте новые данные:
   ```json
   {
   	"username": "new_name"
   }
   ```
5. Нажмите **Send**. Пользователь будет обновлён.

### 4. Удаление пользователя

1. Создайте запрос с методом **DELETE**.
2. Укажите URL: `http://localhost:3000/users/:id`, заменив `:id` на ID пользователя.
3. Нажмите **Send**. Пользователь будет удалён.

---

## Логгирование

Действия пользователей, включая клики на страницах `/` и `/about`, а также добавление, обновление и удаление пользователей, записываются в файл `logs.json`. Каждая запись включает:

- URL страницы.
- Количество просмотров страницы.
- Время действия.

Пример записи:

```json
{
	"/": {
		"Количество кликов на главной странице": 15,
		"Последнее обновление": "2024-12-27T15:30:00Z"
	},
	"/about": {
		"Количество кликов на странице обо мне": 10,
		"Последнее обновление": "2024-12-27T15:35:00Z"
	}
}
```

---

## Развитие проекта

В будущем можно добавить:

1. Аутентификацию пользователей.
2. Веб-интерфейс для управления пользователями.
3. Аналитику посещений страниц.
